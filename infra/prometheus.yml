global:
  scrape_interval: 5s # Coleta a cada 5 segundos (Alta resolução para Tese)
  scrape_timeout: 4s

scrape_configs:
  # 1. MÉTRICAS DO CÓDIGO PYTHON (Sua Speed Layer)
  # Fonte: speed_layer.py (Porta 8000)
  - job_name: 'speed-layer'
    static_configs:
      - targets: ['host.docker.internal:8000'] 
        # Nota: Usamos host.docker.internal porque o script roda no Windows, fora do Docker

  # 2. CAIXA PRETA DO KAFKA (CPU, Memória, Threads, Bytes In/Out)
  # Fonte: Agente JMX dentro do Kafka (Porta 7071)
  - job_name: 'kafka-broker-jmx'
    static_configs:
      - targets: ['kafka:7071']

  # 3. KAFKA LAG (Atraso de Consumo)
  # Fonte: Container kafka-exporter (Porta 9308)
  - job_name: 'kafka-lag-exporter'
    static_configs:
      - targets: ['kafka-exporter:9308']